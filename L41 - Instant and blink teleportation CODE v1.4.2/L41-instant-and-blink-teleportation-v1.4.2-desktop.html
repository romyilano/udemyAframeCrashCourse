<!doctype html>
<html>
<head>
	<title>Instant and blink teleportation</title>
	<script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
	<!-- ******** NEW AFRAME-EXTRAS VERSION FOR A-FRAME v1.4.2 ******** -->
	<script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script>
	<!-- ******** NEW LOOK-AT COMPONENT VERSION FOR A-FRAME v1.4.2 ******** -->
	<script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
	<!-- ******** NEW EVENT-SET COMPONENT VERSION FOR A-FRAME v1.4.2 ******** -->
  <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
  <!-- ******** WE ARE NOT USING THE super-hands and THE DEPRECATED progressive-controls COMPONENTS ******** -->
</head>
 
<body>
    <!-- ******** With A-Frame v1.4.2 you don't need to install the animation component anymore as it is part of the core library ******** -->
    <!-- ******** For the code below, NOTHING HAS CHANGED WITH v0.9.2 ******** -->
	<a-scene background="color: #FFFFFF">
		<!-- Asset Management System -->
		<a-assets>
			<img id="footsteps" src="L41-ASSETs/footsteps.png">
			<img id="black" src="L41-ASSETs/black.png">
		</a-assets>

		<!-- Ground -->
		<a-plane color="#DDDDDD" shader="flat" rotation="-90 0 0" scale="10 40 1"
				 position="0 0 -12">
		</a-plane>

		<!-- Curved Image -->
        <a-curvedimage src="L41-ASSETs/curved-image.jpg" position="-2 1.5 -24" scale="3 3 3"
                       theta-length="90" theta-start="135" radius="0.707" height="0.833">
        </a-curvedimage>
		<!-- Checkpoint UI -->
		<a-image src="#footsteps" position="-2 3.5 -24" checkpoint="offset: 0 -3.5 0"
				 look-at="#cam-rig">
		</a-image>

		<!-- Purple Box -->
		<a-box color="#AA00AA" position="2 0.5 -24"></a-box>
		<!-- Checkpoint UI -->
		<a-image src="#footsteps" position="2 2.5 -24" checkpoint="offset: -1 -2.5 0"
				 look-at="#cam-rig">
		</a-image>
		
		<!-- Orange Box -->
		<a-box color="#FF7700" position="-2 0.5 -8"></a-box>
		<!-- Checkpoint UI -->
		<a-image src="#footsteps" position="-2 2.5 -8" checkpoint="offset: 1 -2.5 0"
				 look-at="#cam-rig">
		</a-image>
		
		<!-- Green Box -->
		<a-box color="#00AA00" position="2 0.5 -16"></a-box>
		<!-- Checkpoint UI -->
		<a-image src="#footsteps" position="2 2.5 -16" checkpoint="offset: -1 -2.5 0"
				 look-at="#cam-rig">
		</a-image>
		
		<!-- Camera Rig -->
		<a-entity id="cam-rig"
			  	  movement-controls="controls: checkpoint"
            checkpoint-controls="mode: animate; animateSpeed: 13.0"
            event-set__start="_target: #blink; _event: navigation-start;
                              animation.property: opacity;
                              animation.to: 1;
                              animation.dur: 250;
                              animation.easing: easeOutQuart"
            event-set__end="_target: #blink; _event: navigation-end;
                            animation.to: 0">
      <!-- Camera -->
      <a-entity camera position="0 1.6 0" look-controls>
        <a-cursor></a-cursor>
        <a-image id="blink" src="#black" position="0 0 -0.3" opacity="0"></a-image>
      </a-entity>
		</a-entity>
	</a-scene>
</body>
</html>